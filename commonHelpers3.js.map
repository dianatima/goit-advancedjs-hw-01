{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('.feedback-form input');\nconst name = document.querySelector('.feedback-form textarea');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener('input', throttle(onEmailInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\nlet formData = {};\n\ndataUpdate();\n\nfunction onEmailInput(e) {\n  let previousLocalData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  formData = { ...previousLocalData, [e.target.name]: e.target.value };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction dataUpdate() {\n  const localStorageData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (localStorageData) {\n    email.value = localStorageData.email || '';\n    name.value = localStorageData.message || '';\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  e.currentTarget.reset();\n  console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n  localStorage.removeItem(STORAGE_KEY);\n}\n"],"names":["form","email","name","STORAGE_KEY","throttle","onEmailInput","onFormSubmit","formData","dataUpdate","localStorageData"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,sBAAsB,EACrDC,EAAO,SAAS,cAAc,yBAAyB,EAEvDC,EAAc,sBAEpBH,EAAK,iBAAiB,QAASI,EAASC,EAAc,GAAG,CAAC,EAC1DL,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,IAAIC,EAAW,CAAA,EAEfC,IAEA,SAASH,EAAa,EAAG,CAEvBE,EAAW,CAAE,GADW,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,EACjC,CAAC,EAAE,OAAO,MAAO,EAAE,OAAO,OAC7D,aAAa,QAAQA,EAAa,KAAK,UAAUI,CAAQ,CAAC,CAC5D,CAEA,SAASC,GAAa,CACpB,MAAMC,EAAmB,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EACjEM,IACFR,EAAM,MAAQQ,EAAiB,OAAS,GACxCP,EAAK,MAAQO,EAAiB,SAAW,GAE7C,CAEA,SAASH,EAAa,EAAG,CACvB,EAAE,eAAc,EAChB,EAAE,cAAc,QAChB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQH,CAAW,CAAC,CAAC,EACzD,aAAa,WAAWA,CAAW,CACrC"}